@{
    ViewBag.Title = "保存新闻";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model W3WGame.Admin.Controllers.GameNewsManager.ViewModels.SaveGameNews
<link href="../../Scripts/jquery-validation-engine/css/template.css" rel="stylesheet"
    type="text/css" />
<link href="../../Scripts/jquery-validation-engine/css/validationEngine.jquery.css"
    rel="stylesheet" type="text/css" />
<link href="../../Scripts/kindeditor-4.1.4/themes/default/default.css" rel="stylesheet"
    type="text/css" />
<script src="../../Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
<script src="../../Scripts/jquery-validation-engine/js/jquery.validationEngine.js"
    type="text/javascript"></script>
<script src="../../Scripts/jquery-validation-engine/js/languages/jquery.validationEngine-zh_CN.js"
    type="text/javascript"></script>
<script src="../../Scripts/kindeditor-4.1.4/kindeditor-min.js" type="text/javascript"></script>
<script src="../../Scripts/My97DatePicker/WdatePicker.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function () {
     $("#form1").validationEngine();
        
        var editor = KindEditor.create('textarea[name="Content"]', {
                uploadJson: "@Url.Action("SaveSystemImage", "Uploads")",
                syncType: '',
                items: [
                    'source', '|', 'undo', 'redo', '|', 'preview', 'print', 'template', 'code', 'cut', 'copy', 'paste', 'plainpaste', 'wordpaste', '|',
                    'justifyleft', 'justifycenter', 'justifyright', 'superscript', 'clearhtml', 'quickformat', 'selectall', '|', 'fullscreen', '/',
                    'formatblock', 'fontname', 'fontsize', '|', 'forecolor', 'hilitecolor', 'bold', 'italic', 'underline', 'strikethrough', 'lineheight',
                    'removeformat', '|', 'image', 'flash', 'media', 'insertfile', 'table', 'hr', 'emoticons', 'pagebreak', //'multiimage','baidumap'
                    'anchor', 'link', 'unlink', '|', 'about'
                ],
                afterBlur: function() {
                    editor.sync();
                }
            });

    })
</script>
<div class="wrap">
    <div class="right_box_card">
        <ul>
            <li class="right_box_card1"><a href="#">保存新闻</a></li>
        </ul>
    </div>
    <div>
        <div style="color: red;">
        </div>
        @using (Html.BeginForm("Save", "GameNewsManager", FormMethod.Post, new { @class = "formular", id = "form1", enctype = "multipart/form-data" }))
        {
            @Html.HiddenFor(c => c.ID)
            <table class="enter_tab" width="100%" border="0" cellpadding="0" cellspacing="0">
               
                <tr height="40">
                    <td class="entry_tab_td1">@Html.LabelFor(c => c.GameID)
                    </td>
                    <td class="entry_tab_td2">
                      @Html.DropDownList("gameid", ViewData["gamelist"] as List<SelectListItem>, new { @class = "text-input" })&nbsp;&nbsp;
                    </td>
                </tr>
                <tr height="40">
                    <td class="entry_tab_td1">@Html.LabelFor(c => c.NewsType)
                    </td>
                    <td class="entry_tab_td2">
                     @Html.DropDownListFor(c => c.NewsType, ViewData["newstypelist"] as List<SelectListItem>)
                    </td>
                </tr>
                <tr height="40">
                    <td class="entry_tab_td1">@Html.LabelFor(c => c.Title)
                    </td>
                    <td class="entry_tab_td2">
                        @Html.TextBoxFor(c => c.Title, new { @class = "validate[required] text-input", style = "width=240px;" })
                    </td>
                </tr>
             
               
                <tr height="40">
                    <td class="entry_tab_td1">@Html.LabelFor(c => c.IsDisplayHomePage)
                    </td>
                    <td class="entry_tab_td2">
                        @Html.CheckBoxFor(c => c.IsDisplayHomePage)
                    </td>
                </tr>
                  <tr height="40">
                    <td class="entry_tab_td1">@Html.LabelFor(c => c.IsWeb)
                    </td>
                    <td class="entry_tab_td2">
                        @Html.CheckBoxFor(c => c.IsWeb)
                    </td>
                </tr>
                <tr height="40">
                    <td class="entry_tab_td1">@Html.LabelFor(c => c.ClickCount)
                    </td>
                    <td class="entry_tab_td2">
                        @Html.TextBoxFor(c => c.ClickCount, new { @class = "validate[required] text-input", style = "width=240px;" })
                    </td>
                </tr>
                <tr height="40">
                    <td class="entry_tab_td1">@Html.LabelFor(c => c.CreateDate)
                    </td>
                    <td class="entry_tab_td2">
                        @Html.TextBoxFor(c => c.CreateDate, new { @class = "validate[required] text-input", onfocus = "WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})" })
                    </td>
                </tr>
                <tr height="40">
                    <td class="entry_tab_td1">@Html.LabelFor(c => c.ShortDes)
                    </td>
                    <td class="entry_tab_td2">
                        @Html.TextAreaFor(c => c.Content, new { @class = "validate[required] text-input", @style = "width:650px;height:100px;" })
                    </td>
                </tr>

                 <tr height="40">
                    <td class="entry_tab_td1">@Html.LabelFor(c => c.Content)
                    </td>
                    <td class="entry_tab_td2">
                        @Html.TextAreaFor(c => c.Content, new { @class = "validate[required] text-input", @style = "width:650px;height:400px;" })
                    </td>
                </tr>
                <tr>
                    <td>
                    </td>
                    <td style="line-height: 30px;">@Html.ValidationSummary()
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="submit" value="保存" class="submit" style="width: 100px; height: 30px;" />
                    </td>
                    <td>
                    </td>
                </tr>
            </table> 
        }
    </div>
</div>
